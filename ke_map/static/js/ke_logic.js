// Create a Leaflet.js map object
var myMap = L.map("map", {
    center: [37.09, -95.71],
    zoom: 5
  });
  
  L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}", {
    attribution: "Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>",
    maxZoom: 18,
    id: "mapbox.streets-basic",
    accessToken: API_KEY
  }).addTo(myMap);


//   // Define a markerSize function that will give each state a different radius based on its cumulative energy difference for 2018-2030
  function markerSize(sum_dif) {
    return sum_dif / 4;
  }

// // Store our API endpoint inside queryUrl
// var states = "../static/js/cumulative_diff.json";

  // Perform a GET request to the query URL
// d3.json(states, function(data) {
//   console.log(data)
//   // Once we get a response, send the data.features object to the createFeatures function
// }); 

// var states = queryUrl


var states =
[{'State': 'Alabama',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 305279.5999869872,
  'Total Consumed (Bil. Btu)_x': 2106709.7849393263,
  'Difference_x': -1801430.1849523373,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 332861.46432870254,
  'Energy Pr. ($/mil. btu)_y': 21.55676022316925,
  'Total Consumed (Bil. Btu)_y': 2266710.027432576,
  'Difference_y': -1933848.5631038733,
  'sum_dif': 132418.38,
  'abbr': 'AL',
  'capital': 'Montgomery',
  'lat': 32.361538,
  'lng': -86.279118,
  'Locationx': [32.361538, -86.279118],
  'Location': '32.361538, -86.279118'},
 {'State': 'Alaska',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 22135.11086892872,
  'Total Consumed (Bil. Btu)_x': 819950.7119132057,
  'Difference_x': -797815.6010442749,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 25564.91945086047,
  'Energy Pr. ($/mil. btu)_y': 25.535597612154106,
  'Total Consumed (Bil. Btu)_y': 958725.907072451,
  'Difference_y': -933160.9876215868,
  'sum_dif': 135345.39,
  'abbr': 'AK',
  'capital': 'Juneau',
  'lat': 58.301935,
  'lng': -134.41974,
  'Locationx': [58.301935, -134.41974],
  'Location': '58.301935, -134.41974'},
 {'State': 'Arizona',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 116097.4431829272,
  'Total Consumed (Bil. Btu)_x': 1578470.0494811162,
  'Difference_x': -1462372.606298186,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 121590.62519925821,
  'Energy Pr. ($/mil. btu)_y': 29.699874995933556,
  'Total Consumed (Bil. Btu)_y': 1834348.8901070282,
  'Difference_y': -1712758.2649077699,
  'sum_dif': 250385.66,
  'abbr': 'AZ',
  'capital': 'Phoenix',
  'lat': 33.448457,
  'lng': -112.073844,
  'Locationx': [33.448457, -112.073844],
  'Location': '33.448457, -112.073844'},
 {'State': 'Arkansas',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 131156.27138163242,
  'Total Consumed (Bil. Btu)_x': 1174288.5187790766,
  'Difference_x': -1043132.2473974451,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 145703.42489996413,
  'Energy Pr. ($/mil. btu)_y': 21.928469615146923,
  'Total Consumed (Bil. Btu)_y': 1282480.5406405553,
  'Difference_y': -1136777.1157405917,
  'sum_dif': 93644.87,
  'abbr': 'AR',
  'capital': 'Little Rock',
  'lat': 34.736009,
  'lng': -92.331122,
  'Locationx': [34.736009, -92.331122],
  'Location': '34.736009, -92.331122'},
 {'State': 'California',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 856300.8270438202,
  'Total Consumed (Bil. Btu)_x': 8374805.015607223,
  'Difference_x': -7518504.188563392,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 937515.258873092,
  'Energy Pr. ($/mil. btu)_y': 28.52492062201111,
  'Total Consumed (Bil. Btu)_y': 8981790.47076191,
  'Difference_y': -8044275.21188882,
  'sum_dif': 525771.02,
  'abbr': 'CA',
  'capital': 'Sacramento',
  'lat': 38.555605,
  'lng': -121.468926,
  'Locationx': [38.555605, -121.468926],
  'Location': '38.555605, -121.468926'},
 {'State': 'Colorado',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 94075.48795504123,
  'Total Consumed (Bil. Btu)_x': 1560108.6166840196,
  'Difference_x': -1466033.1287289783,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 116768.66925566876,
  'Energy Pr. ($/mil. btu)_y': 23.61580541006549,
  'Total Consumed (Bil. Btu)_y': 1788710.797561735,
  'Difference_y': -1671942.128306061,
  'sum_dif': 205909.0,
  'abbr': 'CO',
  'capital': 'Denver',
  'lat': 39.7391667,
  'lng': -104.984167,
  'Locationx': [39.7391667, -104.984167],
  'Location': '39.7391667, -104.984167'},
 {'State': 'Connecticut',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 37043.79422720321,
  'Total Consumed (Bil. Btu)_x': 808828.3511988032,
  'Difference_x': -771784.5569715998,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 38334.362820846465,
  'Energy Pr. ($/mil. btu)_y': 32.10780100198451,
  'Total Consumed (Bil. Btu)_y': 829981.0987182409,
  'Difference_y': -791646.7358973944,
  'sum_dif': 19862.18,
  'abbr': 'CT',
  'capital': 'Hartford',
  'lat': 41.767,
  'lng': -72.677,
  'Locationx': [41.767, -72.677],
  'Location': '41.767, -72.677'},
 {'State': 'Delaware',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 993.535964084731,
  'Total Consumed (Bil. Btu)_x': 296103.93130876124,
  'Difference_x': -295110.39534467645,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': -352.0384527798451,
  'Energy Pr. ($/mil. btu)_y': 27.278367139464535,
  'Total Consumed (Bil. Btu)_y': 316458.32514070114,
  'Difference_y': -316810.363593481,
  'sum_dif': 21699.97,
  'abbr': 'DE',
  'capital': 'Dover',
  'lat': 39.161921,
  'lng': -75.526755,
  'Locationx': [39.161921, -75.526755],
  'Location': '39.161921, -75.526755'},
 {'State': 'Florida',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 269900.1774374582,
  'Total Consumed (Bil. Btu)_x': 4765291.163952947,
  'Difference_x': -4495390.986515507,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 322911.2129298281,
  'Energy Pr. ($/mil. btu)_y': 28.100314340089312,
  'Total Consumed (Bil. Btu)_y': 5492539.123548254,
  'Difference_y': -5169627.910618439,
  'sum_dif': 674236.92,
  'abbr': 'FL',
  'capital': 'Tallahassee',
  'lat': 30.4518,
  'lng': -84.27277,
  'Locationx': [30.4518, -84.27277],
  'Location': '30.4518, -84.27277'},
 {'State': 'Georgia',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 283735.1446289737,
  'Total Consumed (Bil. Btu)_x': 3301551.151899874,
  'Difference_x': -3017816.0072708875,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 325119.6516721435,
  'Energy Pr. ($/mil. btu)_y': 23.69052880705283,
  'Total Consumed (Bil. Btu)_y': 3775936.958009377,
  'Difference_y': -3450817.3063372225,
  'sum_dif': 433001.3,
  'abbr': 'GA',
  'capital': 'Atlanta',
  'lat': 33.76,
  'lng': -84.39,
  'Locationx': [33.76, -84.39],
  'Location': '33.76, -84.39'},
 {'State': 'Hawaii',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 26891.26024756825,
  'Total Consumed (Bil. Btu)_x': 310245.6833582744,
  'Difference_x': -283354.42311070627,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 32101.09114642639,
  'Energy Pr. ($/mil. btu)_y': 39.90648581606433,
  'Total Consumed (Bil. Btu)_y': 331188.443369986,
  'Difference_y': -299087.3522235593,
  'sum_dif': 15732.93,
  'abbr': 'HI',
  'capital': 'Honolulu',
  'lat': 21.30895,
  'lng': -157.826182,
  'Locationx': [21.30895, -157.826182],
  'Location': '21.30895, -157.826182'},
 {'State': 'Idaho',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 154634.1114301053,
  'Total Consumed (Bil. Btu)_x': 568470.2176713645,
  'Difference_x': -413836.10624125693,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 167252.02027554577,
  'Energy Pr. ($/mil. btu)_y': 22.271831630827364,
  'Total Consumed (Bil. Btu)_y': 633094.4416213948,
  'Difference_y': -465842.42134584766,
  'sum_dif': 52006.32,
  'abbr': 'ID',
  'capital': 'Boise',
  'lat': 43.613739,
  'lng': -116.237651,
  'Locationx': [43.613739, -116.237651],
  'Location': '43.613739, -116.237651'},
 {'State': 'Illinois',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 279170.0897475518,
  'Total Consumed (Bil. Btu)_x': 3938120.457675916,
  'Difference_x': -3658950.3679283643,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 343199.4579768386,
  'Energy Pr. ($/mil. btu)_y': 22.155722941540148,
  'Total Consumed (Bil. Btu)_y': 3994082.229106347,
  'Difference_y': -3650882.7711295094,
  'sum_dif': -8067.6,
  'abbr': 'IL',
  'capital': 'Springfield',
  'lat': 39.78325,
  'lng': -89.650373,
  'Locationx': [39.78325, -89.650373],
  'Location': '39.78325, -89.650373'},
 {'State': 'Indiana',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 171177.35454146191,
  'Total Consumed (Bil. Btu)_x': 2951259.0466345698,
  'Difference_x': -2780081.692093108,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 213524.69928266946,
  'Energy Pr. ($/mil. btu)_y': 19.978334932821554,
  'Total Consumed (Bil. Btu)_y': 3123694.7120108046,
  'Difference_y': -2910170.0127281323,
  'sum_dif': 130088.32,
  'abbr': 'IN',
  'capital': 'Indianapolis',
  'lat': 39.790942,
  'lng': -86.147685,
  'Locationx': [39.790942, -86.147685],
  'Location': '39.790942, -86.147685'},
 {'State': 'Iowa',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 560536.2600523792,
  'Total Consumed (Bil. Btu)_x': 1488409.0834932812,
  'Difference_x': -927872.8234409058,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 732622.0560769737,
  'Energy Pr. ($/mil. btu)_y': 19.91917824262339,
  'Total Consumed (Bil. Btu)_y': 1662588.0009596944,
  'Difference_y': -929965.9448827223,
  'sum_dif': 2093.12,
  'abbr': 'IA',
  'capital': 'Des Moines',
  'lat': 41.590939,
  'lng': -93.620866,
  'Locationx': [41.590939, -93.620866],
  'Location': '41.590939, -93.620866'},
 {'State': 'Kansas',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 129367.32009011321,
  'Total Consumed (Bil. Btu)_x': 1140487.5072464952,
  'Difference_x': -1011120.1871563811,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 170536.50952373166,
  'Energy Pr. ($/mil. btu)_y': 23.63114244119845,
  'Total Consumed (Bil. Btu)_y': 1187972.8019535448,
  'Difference_y': -1017436.2924298123,
  'sum_dif': 6316.11,
  'abbr': 'KS',
  'capital': 'Topeka',
  'lat': 39.04,
  'lng': -95.69,
  'Locationx': [39.04, -95.69],
  'Location': '39.04, -95.69'},
 {'State': 'Kentucky',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 65389.95631770714,
  'Total Consumed (Bil. Btu)_x': 2003174.9947867617,
  'Difference_x': -1937785.0384690464,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 66580.81841471745,
  'Energy Pr. ($/mil. btu)_y': 22.184858648622253,
  'Total Consumed (Bil. Btu)_y': 2208705.3966866285,
  'Difference_y': -2142124.578271903,
  'sum_dif': 204339.54,
  'abbr': 'KY',
  'capital': 'Frankfort',
  'lat': 38.197274,
  'lng': -84.86311,
  'Locationx': [38.197274, -84.86311],
  'Location': '38.197274, -84.86311'},
 {'State': 'Louisiana',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 183715.6489313254,
  'Total Consumed (Bil. Btu)_x': 4457641.573790625,
  'Difference_x': -4273925.9248593,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 218430.25799473003,
  'Energy Pr. ($/mil. btu)_y': 17.34115651127229,
  'Total Consumed (Bil. Btu)_y': 4724168.091048829,
  'Difference_y': -4505737.833054103,
  'sum_dif': 231811.91,
  'abbr': 'LA',
  'capital': 'Baton Rouge',
  'lat': 30.45809,
  'lng': -91.140229,
  'Locationx': [30.45809, -91.140229],
  'Location': '30.45809, -91.140229'},
 {'State': 'Maine',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 184325.23814210016,
  'Total Consumed (Bil. Btu)_x': 464754.35242688423,
  'Difference_x': -280429.11428478465,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 209781.11953056417,
  'Energy Pr. ($/mil. btu)_y': 23.961107306678855,
  'Total Consumed (Bil. Btu)_y': 484936.6526968996,
  'Difference_y': -275155.5331663358,
  'sum_dif': -5273.58,
  'abbr': 'ME',
  'capital': 'Augusta',
  'lat': 44.323535,
  'lng': -69.765261,
  'Locationx': [44.323535, -69.765261],
  'Location': '44.323535, -69.765261'},
 {'State': 'Maryland',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 49452.677120270644,
  'Total Consumed (Bil. Btu)_x': 1511818.5294088963,
  'Difference_x': -1462365.8522886261,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 48249.65594196296,
  'Energy Pr. ($/mil. btu)_y': 28.765632340024013,
  'Total Consumed (Bil. Btu)_y': 1615823.117131332,
  'Difference_y': -1567573.4611893706,
  'sum_dif': 105207.61,
  'abbr': 'MD',
  'capital': 'Annapolis',
  'lat': 38.972945,
  'lng': -76.501157,
  'Locationx': [38.972945, -76.501157],
  'Location': '38.972945, -76.501157'},
 {'State': 'Massachusetts',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 57601.79547968373,
  'Total Consumed (Bil. Btu)_x': 1441544.1128452455,
  'Difference_x': -1383942.3173655616,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 55003.921183187456,
  'Energy Pr. ($/mil. btu)_y': 30.53507140765805,
  'Total Consumed (Bil. Btu)_y': 1452444.2745291,
  'Difference_y': -1397440.3533459124,
  'sum_dif': 13498.04,
  'abbr': 'MA',
  'capital': 'Boston',
  'lat': 42.2352,
  'lng': -71.0275,
  'Locationx': [42.2352, -71.0275],
  'Location': '42.2352, -71.0275'},
 {'State': 'Michigan',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 181694.12801327277,
  'Total Consumed (Bil. Btu)_x': 2956671.731570643,
  'Difference_x': -2774977.60355737,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 214801.66638472304,
  'Energy Pr. ($/mil. btu)_y': 22.87723722307169,
  'Total Consumed (Bil. Btu)_y': 2994341.1055255537,
  'Difference_y': -2779539.439140831,
  'sum_dif': 4561.84,
  'abbr': 'MI',
  'capital': 'Lansing',
  'lat': 42.7335,
  'lng': -84.5467,
  'Locationx': [42.7335, -84.5467],
  'Location': '42.7335, -84.5467'},
 {'State': 'Minnesota',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 274404.40316861495,
  'Total Consumed (Bil. Btu)_x': 1987109.1310468763,
  'Difference_x': -1712704.727878265,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 349380.435960833,
  'Energy Pr. ($/mil. btu)_y': 22.06300985718474,
  'Total Consumed (Bil. Btu)_y': 2210576.5447558463,
  'Difference_y': -1861196.1087950133,
  'sum_dif': 148491.38,
  'abbr': 'MN',
  'capital': 'Saint Paul',
  'lat': 44.95,
  'lng': -93.094,
  'Locationx': [44.95, -93.094],
  'Location': '44.95, -93.094'},
 {'State': 'Mississippi',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 78519.22136373981,
  'Total Consumed (Bil. Btu)_x': 1284078.0643156953,
  'Difference_x': -1205558.8429519497,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 88175.43835193082,
  'Energy Pr. ($/mil. btu)_y': 22.89850214710964,
  'Total Consumed (Bil. Btu)_y': 1413265.5553856678,
  'Difference_y': -1325090.117033735,
  'sum_dif': 119531.27,
  'abbr': 'MS',
  'capital': 'Jackson',
  'lat': 32.32,
  'lng': -90.207,
  'Locationx': [32.32, -90.207],
  'Location': '32.32, -90.207'},
 {'State': 'Missouri',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 74614.87397930957,
  'Total Consumed (Bil. Btu)_x': 1954246.445094183,
  'Difference_x': -1879631.5711148717,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 86356.35828263755,
  'Energy Pr. ($/mil. btu)_y': 24.661916783239576,
  'Total Consumed (Bil. Btu)_y': 2111959.3019210175,
  'Difference_y': -2025602.943638377,
  'sum_dif': 145971.37,
  'abbr': 'MO',
  'capital': 'Jefferson City',
  'lat': 38.572954,
  'lng': -92.189283,
  'Locationx': [38.572954, -92.189283],
  'Location': '38.572954, -92.189283'},
 {'State': 'Montana',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 128478.21421484114,
  'Total Consumed (Bil. Btu)_x': 417461.6425062623,
  'Difference_x': -288983.42829142185,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 132851.15393311426,
  'Energy Pr. ($/mil. btu)_y': 24.030120774911325,
  'Total Consumed (Bil. Btu)_y': 438607.7702918118,
  'Difference_y': -305756.6163586979,
  'sum_dif': 16773.19,
  'abbr': 'MT',
  'capital': 'Helana',
  'lat': 46.595805,
  'lng': -112.027031,
  'Locationx': [46.595805, -112.027031],
  'Location': '46.595805, -112.027031'},
 {'State': 'Nebraska',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 243130.60890887864,
  'Total Consumed (Bil. Btu)_x': 843282.6708334684,
  'Difference_x': -600152.0619245917,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 318276.7339617424,
  'Energy Pr. ($/mil. btu)_y': 21.849370587852604,
  'Total Consumed (Bil. Btu)_y': 948475.8597465754,
  'Difference_y': -630199.1257848348,
  'sum_dif': 30047.06,
  'abbr': 'NE',
  'capital': 'Lincoln',
  'lat': 40.809868,
  'lng': -96.675345,
  'Locationx': [40.809868, -96.675345],
  'Location': '40.809868, -96.675345'},
 {'State': 'Nevada',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 67897.65965060657,
  'Total Consumed (Bil. Btu)_x': 767247.4463466592,
  'Difference_x': -699349.7866960578,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 81377.51722567389,
  'Energy Pr. ($/mil. btu)_y': 26.859338950518804,
  'Total Consumed (Bil. Btu)_y': 914891.8602833524,
  'Difference_y': -833514.3430576809,
  'sum_dif': 134164.56,
  'abbr': 'NV',
  'capital': 'Carson City',
  'lat': 39.160949,
  'lng': -119.753877,
  'Locationx': [39.160949, -119.753877],
  'Location': '39.160949, -119.753877'},
 {'State': 'New Hampshire',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 50995.195102313184,
  'Total Consumed (Bil. Btu)_x': 334571.94407755695,
  'Difference_x': -283576.7489752434,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 56835.38671557314,
  'Energy Pr. ($/mil. btu)_y': 31.00672630859833,
  'Total Consumed (Bil. Btu)_y': 368929.9526009308,
  'Difference_y': -312094.56588535756,
  'sum_dif': 28517.82,
  'abbr': 'NH',
  'capital': 'Concord',
  'lat': 43.220093,
  'lng': -71.549127,
  'Locationx': [43.220093, -71.549127],
  'Location': '43.220093, -71.549127'},
 {'State': 'New Jersey',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 40234.577117017485,
  'Total Consumed (Bil. Btu)_x': 2538001.2689986676,
  'Difference_x': -2497766.691881649,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 40917.02202413873,
  'Energy Pr. ($/mil. btu)_y': 25.999055434464367,
  'Total Consumed (Bil. Btu)_y': 2665861.330093693,
  'Difference_y': -2624944.308069553,
  'sum_dif': 127177.62,
  'abbr': 'NJ',
  'capital': 'Trenton',
  'lat': 40.221741,
  'lng': -74.756138,
  'Locationx': [40.221741, -74.756138],
  'Location': '40.221741, -74.756138'},
 {'State': 'New Mexico',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 37985.19283320871,
  'Total Consumed (Bil. Btu)_x': 720676.0560037754,
  'Difference_x': -682690.863170566,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 48384.979033150245,
  'Energy Pr. ($/mil. btu)_y': 26.33837372718699,
  'Total Consumed (Bil. Btu)_y': 792367.3953446764,
  'Difference_y': -743982.4163115267,
  'sum_dif': 61291.55,
  'abbr': 'NM',
  'capital': 'Santa Fe',
  'lat': 35.667231,
  'lng': -105.964575,
  'Locationx': [35.667231, -105.964575],
  'Location': '35.667231, -105.964575'},
 {'State': 'New York',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 414190.803051498,
  'Total Consumed (Bil. Btu)_x': 3714112.356802432,
  'Difference_x': -3299921.553750936,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 424551.61491915816,
  'Energy Pr. ($/mil. btu)_y': 28.76015647874044,
  'Total Consumed (Bil. Btu)_y': 3641806.7721705325,
  'Difference_y': -3217255.157251375,
  'sum_dif': -82666.4,
  'abbr': 'NY',
  'capital': 'Albany',
  'lat': 42.659829,
  'lng': -73.781339,
  'Locationx': [42.659829, -73.781339],
  'Location': '42.659829, -73.781339'},
 {'State': 'North Carolina',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 179092.6812518302,
  'Total Consumed (Bil. Btu)_x': 2878068.4656706527,
  'Difference_x': -2698975.7844188213,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 190751.73157877638,
  'Energy Pr. ($/mil. btu)_y': 26.067054393441595,
  'Total Consumed (Bil. Btu)_y': 3240066.332159482,
  'Difference_y': -3049314.6005806997,
  'sum_dif': 350338.82,
  'abbr': 'NC',
  'capital': 'Raleigh',
  'lat': 35.771,
  'lng': -78.638,
  'Locationx': [35.771, -78.638],
  'Location': '35.771, -78.638'},
 {'State': 'North Dakota',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 104757.06163993664,
  'Total Consumed (Bil. Btu)_x': 573495.3802661151,
  'Difference_x': -468738.31862617657,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 131425.4079752108,
  'Energy Pr. ($/mil. btu)_y': 17.3150060184131,
  'Total Consumed (Bil. Btu)_y': 680188.6544780284,
  'Difference_y': -548763.2465028148,
  'sum_dif': 80024.93,
  'abbr': 'ND',
  'capital': 'Bismarck',
  'lat': 48.813343,
  'lng': -100.779004,
  'Locationx': [48.813343, -100.779004],
  'Location': '48.813343, -100.779004'},
 {'State': 'Ohio',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 121349.25645759469,
  'Total Consumed (Bil. Btu)_x': 3807069.421728097,
  'Difference_x': -3685720.1652705017,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 136661.07688116096,
  'Energy Pr. ($/mil. btu)_y': 23.391619441100943,
  'Total Consumed (Bil. Btu)_y': 3759591.437148248,
  'Difference_y': -3622930.360267086,
  'sum_dif': -62789.81,
  'abbr': 'OH',
  'capital': 'Columbus',
  'lat': 39.962245,
  'lng': -83.000647,
  'Locationx': [39.962245, -83.000647],
  'Location': '39.962245, -83.000647'},
 {'State': 'Oklahoma',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 141974.73565340415,
  'Total Consumed (Bil. Btu)_x': 1689309.2437050678,
  'Difference_x': -1547334.50805166,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 176826.17239500303,
  'Energy Pr. ($/mil. btu)_y': 22.024718273203575,
  'Total Consumed (Bil. Btu)_y': 1845308.1190100536,
  'Difference_y': -1668481.9466150478,
  'sum_dif': 121147.44,
  'abbr': 'OK',
  'capital': 'Oklahoma City',
  'lat': 35.482309,
  'lng': -97.534994,
  'Locationx': [35.482309, -97.534994],
  'Location': '35.482309, -97.534994'},
 {'State': 'Oregon',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 464864.185651778,
  'Total Consumed (Bil. Btu)_x': 1079601.8594456557,
  'Difference_x': -614737.6737938775,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 474693.3554360911,
  'Energy Pr. ($/mil. btu)_y': 24.895691385536452,
  'Total Consumed (Bil. Btu)_y': 1131298.0804027468,
  'Difference_y': -656604.7249666546,
  'sum_dif': 41867.05,
  'abbr': 'OR',
  'capital': 'Salem',
  'lat': 44.931109,
  'lng': -123.029159,
  'Locationx': [44.931109, -123.029159],
  'Location': '44.931109, -123.029159'},
 {'State': 'Pennsylvania',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 168059.73705227952,
  'Total Consumed (Bil. Btu)_x': 3749292.926323237,
  'Difference_x': -3581233.1892709583,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 190316.7570594363,
  'Energy Pr. ($/mil. btu)_y': 24.938619750154544,
  'Total Consumed (Bil. Btu)_y': 3707805.096075018,
  'Difference_y': -3517488.3390155826,
  'sum_dif': -63744.85,
  'abbr': 'PA',
  'capital': 'Harrisburg',
  'lat': 40.269789,
  'lng': -76.875613,
  'Locationx': [40.269789, -76.875613],
  'Location': '40.269789, -76.875613'},
 {'State': 'Rhode Island',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 3391.9867188262433,
  'Total Consumed (Bil. Btu)_x': 199768.6496388953,
  'Difference_x': -196376.66292006895,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 2768.2804824490013,
  'Energy Pr. ($/mil. btu)_y': 29.974339682488107,
  'Total Consumed (Bil. Btu)_y': 195689.38512150687,
  'Difference_y': -192921.10463905788,
  'sum_dif': -3455.56,
  'abbr': 'RI',
  'capital': 'Providence',
  'lat': 41.82355,
  'lng': -71.422132,
  'Locationx': [41.82355, -71.422132],
  'Location': '41.82355, -71.422132'},
 {'State': 'South Carolina',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 130583.93923842674,
  'Total Consumed (Bil. Btu)_x': 1831490.5862422362,
  'Difference_x': -1700906.6470038071,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 145351.74983733986,
  'Energy Pr. ($/mil. btu)_y': 24.08675461140581,
  'Total Consumed (Bil. Btu)_y': 2086144.6615211964,
  'Difference_y': -1940792.9116838574,
  'sum_dif': 239886.26,
  'abbr': 'SC',
  'capital': 'Columbia',
  'lat': 34.0,
  'lng': -81.035,
  'Locationx': [34.0, -81.035],
  'Location': '34.0, -81.035'},
 {'State': 'South Dakota',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 173537.66481505614,
  'Total Consumed (Bil. Btu)_x': 374183.2937961556,
  'Difference_x': -200645.628981099,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 211393.11177169066,
  'Energy Pr. ($/mil. btu)_y': 22.613520771658273,
  'Total Consumed (Bil. Btu)_y': 433403.11870913394,
  'Difference_y': -222010.00693744095,
  'sum_dif': 21364.38,
  'abbr': 'SD',
  'capital': 'Pierre',
  'lat': 44.367966,
  'lng': -100.336378,
  'Locationx': [44.367966, -100.336378],
  'Location': '44.367966, -100.336378'},
 {'State': 'Tennessee',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 173597.04774878817,
  'Total Consumed (Bil. Btu)_x': 2355981.9512101933,
  'Difference_x': -2182384.903461408,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 175055.57886561047,
  'Energy Pr. ($/mil. btu)_y': 23.75366708416027,
  'Total Consumed (Bil. Btu)_y': 2567320.5674306303,
  'Difference_y': -2392264.9885650165,
  'sum_dif': 209880.09,
  'abbr': 'TN',
  'capital': 'Nashville',
  'lat': 36.165,
  'lng': -86.784,
  'Locationx': [36.165, -86.784],
  'Location': '36.165, -86.784'},
 {'State': 'Texas',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 438002.84061778337,
  'Total Consumed (Bil. Btu)_x': 13630145.44005984,
  'Difference_x': -13192142.599442065,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 558793.0309948288,
  'Energy Pr. ($/mil. btu)_y': 20.973921240118443,
  'Total Consumed (Bil. Btu)_y': 15138234.064087957,
  'Difference_y': -14579441.033093125,
  'sum_dif': 1387298.43,
  'abbr': 'TX',
  'capital': 'Austin',
  'lat': 30.266667,
  'lng': -97.75,
  'Locationx': [30.266667, -97.75],
  'Location': '30.266667, -97.75'},
 {'State': 'Utah',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 24132.897654445493,
  'Total Consumed (Bil. Btu)_x': 842130.8158528283,
  'Difference_x': -817997.9181983806,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 27601.94524870685,
  'Energy Pr. ($/mil. btu)_y': 22.749895491069992,
  'Total Consumed (Bil. Btu)_y': 953714.5815576315,
  'Difference_y': -926112.6363089234,
  'sum_dif': 108114.72,
  'abbr': 'UT',
  'capital': 'Salt Lake City',
  'lat': 40.7547,
  'lng': -111.892622,
  'Locationx': [40.7547, -111.892622],
  'Location': '40.7547, -111.892622'},
 {'State': 'Vermont',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 30771.14083086641,
  'Total Consumed (Bil. Btu)_x': 149766.5423403494,
  'Difference_x': -118995.40150948305,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 34450.30261231668,
  'Energy Pr. ($/mil. btu)_y': 30.84417376947863,
  'Total Consumed (Bil. Btu)_y': 156989.44048277452,
  'Difference_y': -122539.13787045766,
  'sum_dif': 3543.74,
  'abbr': 'VT',
  'capital': 'Montpelier',
  'lat': 44.26639,
  'lng': -72.57194,
  'Locationx': [44.26639, -72.57194],
  'Location': '44.26639, -72.57194'},
 {'State': 'Virginia',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 136332.16765346937,
  'Total Consumed (Bil. Btu)_x': 2695278.5731074587,
  'Difference_x': -2558946.4054539874,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 152415.45507335942,
  'Energy Pr. ($/mil. btu)_y': 24.281732164351524,
  'Total Consumed (Bil. Btu)_y': 3038588.968305744,
  'Difference_y': -2886173.51323238,
  'sum_dif': 327227.11,
  'abbr': 'VA',
  'capital': 'Richmond',
  'lat': 37.54,
  'lng': -77.46,
  'Locationx': [37.54, -77.46],
  'Location': '37.54, -77.46'},
 {'State': 'Washington',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 929108.1244510231,
  'Total Consumed (Bil. Btu)_x': 2240169.93467582,
  'Difference_x': -1311061.8102247976,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 936377.0263671556,
  'Energy Pr. ($/mil. btu)_y': 23.905518478154818,
  'Total Consumed (Bil. Btu)_y': 2420016.9300888143,
  'Difference_y': -1483639.9037216567,
  'sum_dif': 172578.09,
  'abbr': 'WA',
  'capital': 'Olympia',
  'lat': 47.042418,
  'lng': -122.893077,
  'Locationx': [47.042418, -122.893077],
  'Location': '47.042418, -122.893077'},
 {'State': 'West Virginia',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 35752.65087510983,
  'Total Consumed (Bil. Btu)_x': 722046.5310273592,
  'Difference_x': -686293.8801522492,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 40056.27389472665,
  'Energy Pr. ($/mil. btu)_y': 22.67544625719779,
  'Total Consumed (Bil. Btu)_y': 709866.7412489019,
  'Difference_y': -669810.4673541752,
  'sum_dif': -16483.41,
  'abbr': 'WV',
  'capital': 'Charleston',
  'lat': 38.349497,
  'lng': -81.633294,
  'Locationx': [38.349497, -81.633294],
  'Location': '38.349497, -81.633294'},
 {'State': 'Wisconsin',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 191511.49350987375,
  'Total Consumed (Bil. Btu)_x': 1960090.34963727,
  'Difference_x': -1768578.8561273962,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 217098.33394059725,
  'Energy Pr. ($/mil. btu)_y': 23.17925526204499,
  'Total Consumed (Bil. Btu)_y': 2123972.8181625977,
  'Difference_y': -1906874.4842219986,
  'sum_dif': 138295.63,
  'abbr': 'WI',
  'capital': 'Madison',
  'lat': 43.074722,
  'lng': -89.384444,
  'Locationx': [43.074722, -89.384444],
  'Location': '43.074722, -89.384444'},
 {'State': 'Wyoming',
  'Year_x': 2018,
  'Prod. Renewable (Bil. Btu)_x': 39672.4171654901,
  'Total Consumed (Bil. Btu)_x': 550208.513687823,
  'Difference_x': -510536.0965223331,
  'Year_y': 2030,
  'Prod. Renewable (Bil. Btu)_y': 48871.61739972024,
  'Energy Pr. ($/mil. btu)_y': 19.998865447802586,
  'Total Consumed (Bil. Btu)_y': 619198.959245583,
  'Difference_y': -570327.3418458644,
  'sum_dif': 59791.25,
  'abbr': 'WY',
  'capital': 'Cheyenne',
  'lat': 41.145548,
  'lng': -104.802042,
  'Locationx': [41.145548, -104.802042],
  'Location': '41.145548, -104.802042'}]


  


console.log(states)

// Loop through the cities array and create one marker for each city object
for (var i = 0; i < states.length; i++) {
  L.circle(states[i].Locationx, {
    fillOpacity: 0.75,
    color: "white",
    fillColor: "purple",
    // Setting our circle's radius equal to the output of our markerSize function
    // This will make our marker's size proportionate to its sum_dif
    radius: markerSize(states[i].sum_dif)})
    .bindPopup("<h1>" + states[i].State + "</h1> <hr> <h3>Cumulative Predicted Delta 2018-2030: " + states[i].sum_dif + "</h3>").addTo(myMap);
   
}


